<!DOCTYPE html>
<html>
<head>
    <title>Regalo para Jhossi</title>
    <link rel="stylesheet" href="style.css"> <!-- Archivo de estilos externo -->
</head>
<body>

    <!-- Reproductor de mÃºsica oculto -->
    <audio id="musica" loop>
        <source src="music.m4a" type="audio/mp4">
        Tu navegador no soporta el audio.
    </audio>

    <h1 class="texto">Hola Querida Jhossi</h1>
    
    <img src="Gato_Kawaii.gif" alt="Un lindo gato kawaii" width="400">
    
    <p class="texto">SÃ© que mucho pasÃ³, se fue un tiempo y no pensÃ© que volverÃ­a, pero aquÃ­ estÃ¡. 
        Como dijo un viejo sabio, ninguna persona debe estar sola un 14.  
        Hice esta pÃ¡gina como recordatorio de todo lo que significas para mÃ­ y de todo lo que siento por ti.  
        Pero la decisiÃ³n ahora es tuya, si lo aceptas o no.  
        <br><br>
        <strong>FELIZ 14 MON AMOUR â¤ï¸</strong>
    </p>

    <div class="boton-container">
        <button class="btn" onclick="mostrarMensajeSi()">SI :3</button>
        <button class="btn" onclick="insistirNo()">NO :/</button>
    </div>

    <script>
        // Reiniciar el contador cada vez que se carga la pÃ¡gina
        sessionStorage.removeItem("intentosNo");

        let intentosNo = 0; // Contador de intentos al presionar "NO"
        const mensajesNo = [
            "ğŸ˜¢ Â¿Segura? PiÃ©nsalo bien...",
            "ğŸ¥º Vamos, intÃ©ntalo otra vez...",
            "ğŸ’” Â¿De verdad me dirÃ¡s que no?",
            "ğŸ˜ Ãšltima oportunidad... Â¿Segura?",
            "ğŸ˜¢ Ok... Acepto tu decisiÃ³n,pero aun asi no se librara de mixddd.Es broma tenga un bonito 14 mi querida jhossi"
        ];

        function mostrarMensajeSi() {
            alert("ğŸ’– Â¡SabÃ­a que dirÃ­as que sÃ­ xddd! con todo lo dicho solo necesito decir....Je l'aime Jhossi (ten bonito dia o noche)ğŸ’–");
        }

        function insistirNo() {
            if (intentosNo < mensajesNo.length - 1) {
                alert(mensajesNo[intentosNo]);
                intentosNo++;
            } else {
                alert(mensajesNo[intentosNo]); // Mensaje final
            }
        }

        // Asegurar que el audio siempre empiece desde el inicio
        document.addEventListener("DOMContentLoaded", function() {
            const musica = document.getElementById("musica");

            // Comprobar si hay un estado de reproducciÃ³n guardado
            const audioState = localStorage.getItem("audioReproducido");

            if (!audioState || audioState === "false") {
                musica.currentTime = 0; // Reiniciar el audio
                musica.play().then(() => {
                    localStorage.setItem("audioReproducido", "true"); // Guardar estado
                }).catch(() => {
                    console.log("ReproducciÃ³n bloqueada. Esperando interacciÃ³n del usuario.");
                });
            }
        });

        // Si el usuario cierra la pÃ¡gina, se borra el estado para que vuelva a sonar al abrir
        window.addEventListener("beforeunload", function() {
            localStorage.removeItem("audioReproducido");
        });

    </script>

</body>
</html>
